<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="../../static/css/bootstrap.css" rel="stylesheet">
</head>

<style>
    a {
        text-decoration-line: none;
    }

</style>
<body>

<div th:replace="~{fragment/icon :: icon}"></div>

<div class="container" th:insert="~{fragment/header :: header}"></div>

<div class="container" style="max-width: 1000px">
    <div class="py-5 text-center">
        <h2>게시판</h2>
    </div>

    <form class="form-inline" th:action th:object="${searchForm}" method="get" >
    <div class="row">
        <div class="col">
            <input type="text" th:field="*{searchTitle}" class="form-control" placeholder="제목으로 검색"/>
        </div>
        <div class="col">
            <button type="submit" class="btn btn-secondary mb-2">검색</button>
        </div>
        <div class="col">
            <div class="col">
                <button class="btn btn-primary float-end"
                        onclick="location.href='addForm.html'"
                        th:onclick="|location.href='@{/bulletinBoard/add}'|"
                        type="button">글 등록하기
                </button>
            </div>
        </div>
    </div>

    </form>

    <hr class="my-4">

    <div>
        <table class="table text-center">
            <thead>
            <tr>
                <th>글 번호</th>
                <th>제목</th>
                <th>작성자</th>
                <th>작성 일자</th>
                <th>카테고리</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="post : ${posts}">
                <!-- 여기로 넘겨지는 posts는 DisplayPostForm의 데이터 형태가 넘어오는 것임. 작성자 이름을 사용하기 위해서 그렇게 했음-->
                <td><a href="#" th:href="@{/bulletinBoard/detail/{postId}(postId=${post.postId})}" th:text="${post.postId}">글 번호</a></td>
                <td><a href="#" th:href="@{|/bulletinBoard/detail/${post.postId}|}" th:text="${post.title}">제목</a></td>
                <td th:text="|${post.memberId}|">작성자</td>
                <td th:text="${post.postDate}">작성일자</td>
                <td th:text="${post.category}">카테고리</td>
            </tr>
            </tbody>
        </table>
    </div>
    <hr class="my-4">
    <div class="text-center">
        <button class="btn btn-primary btn-lg" type="button" th:onclick="|location.href='@{/home}'|">홈으로</button>
    </div>
</div> <!-- /container -->

<script th:src="@{/script/bootstrap.bundle.min.js}"
        src="../../static/script/bootstrap.bundle.min.js"></script>
</body>
</html>